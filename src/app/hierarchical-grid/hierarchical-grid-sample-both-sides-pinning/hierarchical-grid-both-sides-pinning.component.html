<div class="grid__wrapper">
  <igx-hierarchical-grid
    #grid1
    [data]="data"
    width="100%"
    height="480px"
    [pinning]="pinningConfig"
    [autoGenerate]="false"
    columnSelection="multiple"
    [pinning]="pinningConfig"
    [moving]="true"
  >
    <igx-grid-toolbar>
        <igx-grid-toolbar-title>Hierarchical Grid</igx-grid-toolbar-title>
            <igx-grid-toolbar-actions>
                <button igxButton="contained" (click)="unpinColumn()"> Unpin Column </button>
                <button igxButton="contained" (click)="pinLeft()"> Pin Left </button>
                <button igxButton="contained" (click)="pinRight()"> Pin Right </button>
            </igx-grid-toolbar-actions>
        </igx-grid-toolbar>

    <igx-column field="CountryName" header="Team" width="88">
      <ng-template igxCell let-cell="cell">
        <div class="cell__inner country-cell">
          <img
            [src]="cell.row.data.CountryFlag"
            class="country-flag"
            #target="tooltipTarget"
            [igxTooltipTarget]="tooltipRef"
          />
          <div #tooltipRef="tooltip" igxTooltip>
            {{ cell.row.data.CountryName }}
          </div>
        </div>
      </ng-template>
    </igx-column>

    <igx-column field="Avatar" header="Photo" dataType="string" width="80" [disablePinning]="true">
      <ng-template igxCell let-cell="cell">
        <div class="cell__inner avatar-cell">
          <igx-avatar [src]="cell.row.data.Avatar" shape="circle" size="small"></igx-avatar>
        </div>
      </ng-template>
    </igx-column>

    <igx-column field="Name" header="Name" [disablePinning]="true"></igx-column>
    <igx-column field="AthleteNumber" header="Number"></igx-column>
    <igx-column field="BeatsPerMinute" header="BPM"></igx-column>
    <igx-column field="TopSpeed" header="Top Speed"></igx-column>
    <igx-column field="TrackProgress" header="Track Progress" [disablePinning]="true"></igx-column>

    <!-- Use the value from the cell context for date pipes -->
    <igx-column field="RegistrationDate" header="Date of Registration" width="170" [disablePinning]="true">
      <ng-template igxCell let-value>
        {{ value | date: 'longDate' }}
      </ng-template>
    </igx-column>

    <igx-column field="Birthday" header="Birthday" width="170" [disablePinning]="true">
      <ng-template igxCell let-value>
        {{ value | date: 'longDate' }}
      </ng-template>
    </igx-column>

    <igx-column field="Sponsor" header="Sponsor Company" width="160"></igx-column>

    <igx-column #goldColumn field="FirstPlaces" header="Gold" width="110" [pinned]="true">
      <ng-template igxHeader>
        <div class="title-inner">
          <span style="float: left">{{ goldColumn.header }}</span>
          <igx-icon [style.color]="'#d2c206'">emoji_events</igx-icon>
        </div>
      </ng-template>
    </igx-column>

    <igx-column #silverColumn field="SecondPlaces" header="Silver" width="110" [pinned]="true">
      <ng-template igxHeader>
        <div class="title-inner">
          <span style="float: left">{{ silverColumn.header }}</span>
          <igx-icon [style.color]="'#c5c5c5'">emoji_events</igx-icon>
        </div>
      </ng-template>
    </igx-column>

    <igx-column #bronzeColumn field="ThirdPlaces" header="Bronze" width="110" [pinned]="true">
      <ng-template igxHeader>
        <div class="title-inner">
          <span style="float: left">{{ bronzeColumn.header }}</span>
          <igx-icon [style.color]="'#bb8b1d'">emoji_events</igx-icon>
        </div>
      </ng-template>
    </igx-column>

    <igx-row-island [height]="null" [key]="'AgentData'" [moving]="true" [autoGenerate]="false" [pinning]="pinningConfig" columnSelection="multiple">
        <igx-grid-toolbar>
            <igx-grid-toolbar-title>Agent Data</igx-grid-toolbar-title>
            <igx-grid-toolbar-actions>
                <button igxButton="contained">Add Agent</button>
            </igx-grid-toolbar-actions>
        </igx-grid-toolbar>
      <igx-column field="avatar" header="Agent's Photo" width="80">
        <ng-template igxCell let-cell="cell">
          <div class="cell__inner avatar-cell">
            <igx-avatar [src]="cell.row.data.avatar" shape="circle" size="small"></igx-avatar>
          </div>
        </ng-template>
      </igx-column>

      <igx-column field="name" header="Agent"></igx-column>
      <igx-column field="company" header="Associated Company" width="160"></igx-column>
      <igx-column field="email" header="Work E-mail" width="250"></igx-column>
      <igx-column field="work_phone" header="Work Phone" width="160"></igx-column>

      <igx-column field="street" header="Street" width="200" [pinned]="true" [pinningPosition]="start"></igx-column>
      <igx-column field="city" header="City" [pinned]="true"></igx-column>
      <igx-column field="post_code" header="Post Code"></igx-column>
      <igx-column field="state" header="State"></igx-column>
      <igx-column field="country" header="Country" [pinned]="true"></igx-column>
      <igx-column field="refferred_by" header="Referred by"></igx-column>
    </igx-row-island>
  </igx-hierarchical-grid>
</div>
