<div class="grid__wrapper">
    <ng-template #columnGroupTemplate let-col>
        <div class="column-group-template__container">
            <igx-icon [attr.draggable]="false"
                      (click)="toggleColumnGroup(col)"
                      class="column-group-template__icon">
                      {{columnGroupStates.get(col) ? 'expand_more' : 'expand_less'}}</igx-icon>
            {{col.header}}
        </div>
    </ng-template>

    <igx-hierarchical-grid igxPreventDocumentScroll  #hierarchicalGrid [data]="localData" [moving]="true" [height]="'500px'" [width]="'100%'" displayDensity="compact" [allowFiltering]="true">
        <igx-column field="CustomerID" sortable="true" resizable="true"></igx-column>
        <igx-column-group [pinned]="false" header="General Information" [headerTemplate]="columnGroupTemplate">
            <igx-column field="CompanyName" sortable="true" resizable="true"></igx-column>
            <igx-column-group header="Personal Details">
                <igx-column field="ContactName" sortable="true" resizable="true"></igx-column>
                <igx-column field="ContactTitle" sortable="true" resizable="true"></igx-column>
            </igx-column-group>
        </igx-column-group>
        <igx-column-group header="Address Information" [headerTemplate]="columnGroupTemplate">
            <igx-column sortable="true" resizable="true" field="Location" [hidden]="true"></igx-column>
            <igx-column sortable="true" resizable="true" field="Phone" [hidden]="true"></igx-column>
            <igx-column-group header="Location">
                <igx-column field="Address" sortable="true" resizable="true"></igx-column>
                <igx-column field="City" sortable="true" resizable="true"></igx-column>
                <igx-column field="PostalCode" sortable="true" resizable="true"></igx-column>
                <igx-column field="Country" sortable="true" resizable="true"></igx-column>
            </igx-column-group>
            <igx-column-group header="Contact Information">
                <igx-column field="Phone" sortable="true" resizable="true"></igx-column>
                <igx-column field="Fax" sortable="true" resizable="true"></igx-column>
            </igx-column-group>
        </igx-column-group>

        <igx-row-island [height]="null" [key]="'Orders'" [autoGenerate]="false" [moving]="true">
            <igx-column-group header="Order Information">
                <igx-column-group header="Order Details" [headerTemplate]="columnGroupTemplate">
                    <igx-column field="OrderID" sortable="true" resizable="true"></igx-column>
                    <igx-column field="EmployeeID" sortable="true" resizable="true"></igx-column>
                    <igx-column field="OrderDate" sortable="true" resizable="true" [dataType]="'date'"></igx-column>
                    <igx-column field="RequiredDate" sortable="true" resizable="true" [dataType]="'date'"></igx-column>
                </igx-column-group>
                <igx-column-group header="General Shipping Information" [headerTemplate]="columnGroupTemplate">
                    <igx-column field="ShippedDate" sortable="true" resizable="true" [dataType]="'date'"></igx-column>
                    <igx-column field="ShipVia" sortable="true" resizable="true"></igx-column>
                    <igx-column field="Freight" sortable="true" resizable="true"></igx-column>
                    <igx-column field="ShipName" sortable="true" resizable="true"></igx-column>
                </igx-column-group>
                <igx-column-group header="Shipping Location" [headerTemplate]="columnGroupTemplate">
                    <igx-column field="ShipAddress" sortable="true" resizable="true"></igx-column>
                    <igx-column field="ShipCity" sortable="true" resizable="true"></igx-column>
                    <igx-column field="ShipPostalCode" sortable="true" resizable="true"></igx-column>
                    <igx-column field="ShipCountry" sortable="true" resizable="true"></igx-column>
                </igx-column-group>
            </igx-column-group>
            <igx-row-island [height]="null" [key]="'OrderDetails'" [autoGenerate]="false">
                    <igx-column field="ProductID" sortable="true" resizable="true"></igx-column>
                    <igx-column field="UnitPrice" sortable="true" resizable="true"></igx-column>
                    <igx-column field="Quantity" sortable="true" resizable="true"></igx-column>
                    <igx-column field="Discount" sortable="true" resizable="true"></igx-column>
            </igx-row-island>
        </igx-row-island>

    </igx-hierarchical-grid>
</div>
